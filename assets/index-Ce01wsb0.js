import{a5 as B,a4 as z,s as b,a6 as y,a9 as S,au as N,at as D,r as P,_ as I,R as v,j as s,a7 as M,Y as O,a as _,B as x,T as k}from"./index-7JCrVMyd.js";import{T as E}from"./ToolFileResult-Div6pbTm.js";import{T as F}from"./TextFieldWithDesc-D98LnRRi.js";import{T as U}from"./ToolContent-DrkA_-Xz.js";import{P as T,d as W}from"./PDFButton-BHQNOqBC.js";import{T as L}from"./ToolPdfInput-CYdTNe9U.js";import{S as V}from"./SimpleRadio-BbIGpl0h.js";import{F as X}from"./FormControlLabel-Bkvpm43S.js";import{S as G}from"./SwitchBase-CZaFkbti.js";import{c as Y}from"./index-Bb8_02NB.js";import"./ContentPaste-CJSvfBhK.js";import"./grey-pattern-DMflWW5d.js";import"./ResultFooter-DAeFmDVK.js";import"./TextField-DeGHHacn.js";import"./BaseFileInput-CTIURbfW.js";import"./InputFooter-Cia2zmGJ.js";import"./lodash-jIFHsyXN.js";import"./Radio-Clz2uSlr.js";function q(t){return z("MuiSwitch",t)}const p=B("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),H=["className","color","edge","size","sx"],J=Y(),K=t=>{const{classes:e,edge:a,size:i,color:d,checked:n,disabled:o}=t,g={root:["root",a&&`edge${y(a)}`,`size${y(i)}`],switchBase:["switchBase",`color${y(d)}`,n&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},m=O(g,q,e);return v({},e,m)},Q=b("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.edge&&e[`edge${y(a.edge)}`],e[`size${y(a.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${p.thumb}`]:{width:16,height:16},[`& .${p.switchBase}`]:{padding:4,[`&.${p.checked}`]:{transform:"translateX(16px)"}}}}]}),Z=b(G,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.switchBase,{[`& .${p.input}`]:e.input},a.color!=="default"&&e[`color${y(a.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${p.checked}`]:{transform:"translateX(20px)"},[`&.${p.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${p.checked} + .${p.track}`]:{opacity:.5},[`&.${p.disabled} + .${p.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${p.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:S(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${p.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:S(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${p.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?N(t.palette[e].main,.62):D(t.palette[e].main,.55)}`}},[`&.${p.checked} + .${p.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),tt=b("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),et=b("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),at=P.forwardRef(function(e,a){const i=J({props:e,name:"MuiSwitch"}),{className:d,color:n="primary",edge:o=!1,size:g="medium",sx:m}=i,u=I(i,H),l=v({},i,{color:n,edge:o,size:g}),f=K(l),h=s.jsx(et,{className:f.thumb,ownerState:l});return s.jsxs(Q,{className:M(f.root,d),sx:m,ownerState:l,children:[s.jsx(Z,v({type:"checkbox",icon:h,checkedIcon:h,ref:a,ownerState:l},u,{classes:v({},f,{root:f.switchBase})})),s.jsx(tt,{className:f.track,ownerState:l})]})});function C(t,e){if(!t.trim())return Array.from({length:e},(d,n)=>n+1);const a=new Set,i=t.split(",");for(const d of i){const n=d.trim();if(n.includes("-")){const[o,g]=n.split("-").map(Number);if(!isNaN(o)&&!isNaN(g)){const m=Math.min(o,g),u=Math.max(o,g);for(let l=Math.max(1,m);l<=Math.min(e,u);l++)a.add(l)}}else{const o=parseInt(n,10);!isNaN(o)&&o>=1&&o<=e&&a.add(o)}}return[...a].sort((d,n)=>d-n)}async function ot(t,e){const{rotationAngle:a,applyToAllPages:i,pageRanges:d}=e,n=await t.arrayBuffer(),o=await T.load(n),g=o.getPageCount(),m=i?Array.from({length:g},(f,h)=>h+1):C(d,g);for(const f of m)o.getPage(f-1).setRotation(W(a));const u=await o.save(),l=t.name.replace(".pdf","-rotated.pdf");return new File([u],l,{type:"application/pdf"})}const st={rotationAngle:90,applyToAllPages:!0,pageRanges:""},rt=[{title:"Rotate All Pages 90°",description:"Rotate all pages in the PDF by 90 degrees clockwise",sampleText:"",sampleResult:"",sampleOptions:{rotationAngle:90,applyToAllPages:!0,pageRanges:""}},{title:"Rotate Specific Pages 180°",description:"Rotate pages 1 and 3 by 180 degrees",sampleText:"",sampleResult:"",sampleOptions:{rotationAngle:180,applyToAllPages:!1,pageRanges:"1,3"}},{title:"Rotate Page Range 270°",description:"Rotate pages 2 through 5 by 270 degrees",sampleText:"",sampleResult:"",sampleOptions:{rotationAngle:270,applyToAllPages:!1,pageRanges:"2-5"}}];function Rt({title:t,longDescription:e}){const{t:a}=_("pdf"),[i,d]=P.useState(null),[n,o]=P.useState(null),[g,m]=P.useState(!1),[u,l]=P.useState(0),[f,h]=P.useState("");P.useEffect(()=>{(async()=>{if(!i){l(0);return}try{const c=await i.arrayBuffer(),r=await T.load(c);l(r.getPageCount())}catch(c){console.error("Error getting PDF info:",c),l(0)}})()},[i]);const $=w=>{const{pageRanges:c,applyToAllPages:r}=w;if(r){h(u>0?a("rotatePdf.allPagesWillBeRotated",{count:u}):"");return}if(!u||!(c!=null&&c.trim())){h("");return}try{const R=C(c,u).length;h(a("rotatePdf.pagesWillBeRotated",{count:R}))}catch{h("")}},A=async(w,c)=>{if(c)try{m(!0);const r=await ot(c,w);o(r)}catch(r){throw new Error("Error rotating PDF: "+r)}finally{m(!1)}},j=[{value:90,label:a("rotatePdf.angleOptions.clockwise90")},{value:180,label:a("rotatePdf.angleOptions.upsideDown180")},{value:270,label:a("rotatePdf.angleOptions.counterClockwise270")}];return s.jsx(U,{title:t,input:i,setInput:d,initialValues:st,compute:A,exampleCards:rt,inputComponent:s.jsx(L,{value:i,onChange:d,accept:["application/pdf"],title:a("rotatePdf.inputTitle")}),resultComponent:s.jsx(E,{title:a("rotatePdf.resultTitle"),value:n,extension:"pdf",loading:g,loadingText:a("rotatePdf.rotatingPages")}),getGroups:({values:w,updateField:c})=>[{title:a("rotatePdf.rotationSettings"),component:s.jsxs(x,{children:[s.jsx(k,{variant:"subtitle2",sx:{mb:1},children:a("rotatePdf.rotationAngle")}),j.map(r=>s.jsx(V,{title:r.label,checked:w.rotationAngle===r.value,onClick:()=>{c("rotationAngle",r.value)}},r.value)),s.jsx(x,{sx:{mt:2},children:s.jsx(X,{control:s.jsx(at,{checked:w.applyToAllPages,onChange:r=>{c("applyToAllPages",r.target.checked)}}),label:a("rotatePdf.applyToAllPages")})}),!w.applyToAllPages&&s.jsxs(x,{sx:{mt:2},children:[u>0&&s.jsx(k,{variant:"body2",sx:{mb:1},children:a("rotatePdf.pdfPageCount",{count:u})}),s.jsx(F,{value:w.pageRanges,onOwnChange:r=>{c("pageRanges",r)},description:a("rotatePdf.pageRangesDescription"),placeholder:a("rotatePdf.pageRangesPlaceholder")}),f&&s.jsx(k,{variant:"body2",sx:{mt:1,color:"primary.main"},children:f})]})]})}],onValuesChange:$,toolInfo:{title:a("rotatePdf.toolInfo.title"),description:a("rotatePdf.toolInfo.description")}})}export{Rt as default};
