import{i as T,k as C,j as e,a as I,d as v,r as m,J as F,B as d,T as y}from"./index-7JCrVMyd.js";import{T as H}from"./ToolFileResult-Div6pbTm.js";import{T as R}from"./ToolContent-DrkA_-Xz.js";import{P as j}from"./PDFButton-BHQNOqBC.js";import{I as b}from"./ContentPaste-CJSvfBhK.js";import{I as M}from"./InputFooter-Cia2zmGJ.js";import"./grey-pattern-DMflWW5d.js";import"./ResultFooter-DAeFmDVK.js";import"./TextField-DeGHHacn.js";async function S(t){const n=await j.create();for(const l of t){const c=await l.arrayBuffer(),i=await j.load(c);(await n.copyPages(i,i.getPageIndices())).forEach(u=>n.addPage(u))}const s=await n.save(),a="merged.pdf";return new File([s],a,{type:"application/pdf"})}var x={},_=C;Object.defineProperty(x,"__esModule",{value:!0});var P=x.default=void 0,k=_(T()),z=e;P=x.default=(0,k.default)((0,z.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf");function B({value:t,onChange:n,accept:s,title:a,type:l}){const{t:c}=I();v();const i=m.useRef(null);m.useContext(F);const f=r=>{const o=r.target.files;o&&n([...t,...Array.from(o).map(h=>({file:h,order:t.length}))])},u=()=>{var r;(r=i.current)==null||r.click()};function p(){n([])}function g(r){return r.length>10?r.slice(0,10)+"...":r}return e.jsxs(d,{children:[e.jsx(b,{title:a||c("toolMultiplePdfInput.inputTitle",{type:l.charAt(0).toUpperCase()+l.slice(1)})}),e.jsx(d,{sx:{width:"100%",height:"300px",border:t!=null&&t.length?0:1,borderRadius:2,boxShadow:"5",bgcolor:"background.paper",position:"relative"},children:e.jsx(d,{width:"100%",height:"100%",sx:{overflow:"auto",display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",position:"relative"},children:t!=null&&t.length?t.map((r,o)=>e.jsxs(d,{sx:{margin:1,display:"flex",alignItems:"center",justifyContent:"space-between",width:"200px",border:1,borderRadius:1,padding:1},children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(P,{}),e.jsx(y,{sx:{marginLeft:1},children:g(r.file.name)})]}),e.jsx(d,{sx:{cursor:"pointer"},onClick:()=>{const h=t.filter((E,w)=>w!==o);n(h)},children:"âœ–"})]},o)):e.jsx(y,{variant:"body2",color:"text.secondary",children:c("toolMultiplePdfInput.noFilesSelected")})})}),e.jsx(M,{handleImport:u,handleClear:p}),e.jsx("input",{ref:i,style:{display:"none"},type:"file",accept:s.join(","),onChange:f,multiple:!0})]})}function W({title:t}){const{t:n}=I("pdf"),[s,a]=m.useState([]),[l,c]=m.useState(null),[i,f]=m.useState(!1),u=async(p,g)=>{if(g.length!==0)try{f(!0);const r=await S(g.map(o=>o.file));c(r)}catch(r){throw new Error("Error merging PDF:"+r)}finally{f(!1)}};return e.jsx(R,{title:t,input:s,setInput:a,initialValues:s.map(p=>p.file),compute:u,inputComponent:e.jsx(B,{value:s,onChange:p=>{a(p)},accept:["application/pdf"],title:n("merge.inputTitle"),type:"pdf"}),getGroups:null,resultComponent:e.jsx(H,{title:n("merge.resultTitle"),value:l,extension:"pdf",loading:i,loadingText:n("merge.loadingText")}),toolInfo:{title:n("merge.toolInfo.title"),description:n("merge.toolInfo.description")}})}export{W as default};
