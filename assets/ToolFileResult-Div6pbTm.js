import{a as R,W as x,r as C,J as k,d as F,j as t,B as n,ao as h,T as W}from"./index-7JCrVMyd.js";import{I as T}from"./ContentPaste-CJSvfBhK.js";import{g as U}from"./grey-pattern-DMflWW5d.js";import{C as I,R as L}from"./ResultFooter-DAeFmDVK.js";function S({title:f="Result",value:e,extension:d,loading:y,loadingText:g}){const{t:l}=R(),[r,u]=x.useState(null),{showSnackBar:m}=C.useContext(k),b=F();x.useEffect(()=>{if(e){const o=URL.createObjectURL(e);return u(o),()=>URL.revokeObjectURL(o)}else u(null)},[e]);const j=()=>{if(e){const o=new Blob([e],{type:e.type}),c=new ClipboardItem({[e.type]:o});navigator.clipboard.write([c]).then(()=>m(l("toolFileResult.copied"),"success")).catch(a=>{m(l("toolFileResult.copyFailed",{error:a}),"error")})}},w=()=>{if(e){let o=e.name;if(d){const p=o.split(".");p.length>1?(p.pop(),o=`${p.join(".")}.${d}`):o=`${o}.${d}`}const c=new Blob([e],{type:e.type}),a=window.URL.createObjectURL(c),i=document.createElement("a");i.href=a,i.download=o,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)}},s=e?e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":e.type.startsWith("audio/")?"audio":e.type.startsWith("application/pdf")?"pdf":"unknown":"unknown";return t.jsxs(n,{children:[t.jsx(T,{title:f||l("toolFileResult.result")}),t.jsx(n,{sx:{width:"100%",height:h,border:r?0:1,borderRadius:2,boxShadow:"5",bgcolor:"background.paper"},children:y?t.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[t.jsx(I,{}),t.jsx(W,{variant:"body2",sx:{mt:2},children:g||l("toolFileResult.loading")})]}):r&&t.jsxs(n,{width:"100%",height:"100%",sx:{display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:b.palette.mode==="dark"?null:`url(${U})`},children:[s==="image"&&t.jsx("img",{src:r,alt:"Result",style:{maxWidth:"100%",maxHeight:h}}),s==="video"&&t.jsx("video",{src:r,controls:!0,style:{maxWidth:"100%",maxHeight:h}}),s==="audio"&&t.jsx("audio",{src:r,controls:!0,style:{width:"100%",maxWidth:"500px"}}),s==="pdf"&&t.jsx("iframe",{src:r,width:"100%",height:"100%",style:{maxWidth:"500px"}}),s==="unknown"&&t.jsx(n,{sx:{padding:2,textAlign:"center"},children:"File processed successfully. Click download to save the result."})]})}),t.jsx(L,{disabled:!e,handleCopy:j,handleDownload:w,hideCopy:s==="video"||s==="audio"||s==="pdf"})]})}export{S as T};
