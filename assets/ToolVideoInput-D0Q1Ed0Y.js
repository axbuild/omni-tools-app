import{A as Wt,r as u,R as Ze,aA as Gt,j as re,B as Ye,T as Et}from"./index-7JCrVMyd.js";import{_ as J,a as K,b as ze,c as _t,d as ve}from"./objectWithoutProperties-rK072Nhf.js";import{B as Vt,f as St}from"./BaseFileInput-CTIURbfW.js";function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yt(Object(n),!0).forEach(function(a){J(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}var xt={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r="",l=0;l<arguments.length;l++){var f=arguments[l];f&&(r=i(r,a(f)))}return r}function a(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return n.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var l="";for(var f in r)t.call(r,f)&&r[f]&&(l=i(l,f));return l}function i(r,l){return l?r?r+" "+l:r+l:r}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(xt);var Yt=xt.exports;const ke=Wt(Yt);function $e(e){var t=u.useRef();t.current=e;var n=u.useCallback(function(){for(var a,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(a=t.current)===null||a===void 0?void 0:a.call.apply(a,[t].concat(r))},[]);return n}function Xt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ct=Xt()?u.useLayoutEffect:u.useEffect,Tt=function(t,n){var a=u.useRef(!0);Ct(function(){return t(a.current)},n),Ct(function(){return a.current=!1,function(){a.current=!0}},[])},Mt=function(t,n){Tt(function(a){if(!a)return t()},n)};function bt(e){var t=u.useRef(!1),n=u.useState(e),a=K(n,2),i=a[0],r=a[1];u.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function l(f,R){R&&t.current||r(f)}return[i,l]}function qe(e){return e!==void 0}function Qt(e,t){var n=t||{},a=n.defaultValue,i=n.value,r=n.onChange,l=n.postState,f=bt(function(){return qe(i)?i:qe(a)?typeof a=="function"?a():a:typeof e=="function"?e():e}),R=K(f,2),S=R[0],y=R[1],C=i!==void 0?i:S,h=l?l(C):C,E=$e(r),M=bt([C]),g=K(M,2),s=g[0],v=g[1];Mt(function(){var m=s[0];S!==m&&E(S,m)},[s]),Mt(function(){qe(i)||y(i)},[i]);var c=$e(function(m,O){y(m,O),v([C],O)});return[h,c]}var Je={},qt=function(t){};function Zt(e,t){}function zt(e,t){}function Jt(){Je={}}function kt(e,t,n){!t&&!Je[n]&&(e(!1,n),Je[n]=!0)}function je(e,t){kt(Zt,e,t)}function en(e,t){kt(zt,e,t)}je.preMessage=qt;je.resetWarned=Jt;je.noteOnce=en;function tn(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=new Set;function i(r,l){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=a.has(r);if(je(!R,"Warning: There may be circular references"),R)return!1;if(r===l)return!0;if(n&&f>1)return!1;a.add(r);var S=f+1;if(Array.isArray(r)){if(!Array.isArray(l)||r.length!==l.length)return!1;for(var y=0;y<r.length;y++)if(!i(r[y],l[y],S))return!1;return!0}if(r&&l&&ze(r)==="object"&&ze(l)==="object"){var C=Object.keys(r);return C.length!==Object.keys(l).length?!1:C.every(function(h){return i(r[h],l[h],S)})}return!1}return i(e,t)}function et(e,t,n){return(e-t)/(n-t)}function tt(e,t,n,a){var i=et(t,n,a),r={};switch(e){case"rtl":r.right="".concat(i*100,"%"),r.transform="translateX(50%)";break;case"btt":r.bottom="".concat(i*100,"%"),r.transform="translateY(50%)";break;case"ttb":r.top="".concat(i*100,"%"),r.transform="translateY(-50%)";break;default:r.left="".concat(i*100,"%"),r.transform="translateX(-50%)";break}return r}function Te(e,t){return Array.isArray(e)?e[t]:e}var o={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var n=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||n>=o.F1&&n<=o.F12)return!1;switch(n){case o.ALT:case o.CAPS_LOCK:case o.CONTEXT_MENU:case o.CTRL:case o.DOWN:case o.END:case o.ESC:case o.HOME:case o.INSERT:case o.LEFT:case o.MAC_FF_META:case o.META:case o.NUMLOCK:case o.NUM_CENTER:case o.PAGE_DOWN:case o.PAGE_UP:case o.PAUSE:case o.PRINT_SCREEN:case o.RIGHT:case o.SHIFT:case o.UP:case o.WIN_KEY:case o.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=o.ZERO&&t<=o.NINE||t>=o.NUM_ZERO&&t<=o.NUM_MULTIPLY||t>=o.A&&t<=o.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case o.SPACE:case o.QUESTION_MARK:case o.NUM_PLUS:case o.NUM_MINUS:case o.NUM_PERIOD:case o.NUM_DIVISION:case o.SEMICOLON:case o.DASH:case o.EQUALS:case o.COMMA:case o.PERIOD:case o.SLASH:case o.APOSTROPHE:case o.SINGLE_QUOTE:case o.OPEN_SQUARE_BRACKET:case o.BACKSLASH:case o.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Ae=u.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),nn=u.createContext({}),rn=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Rt=u.forwardRef(function(e,t){var n=e.prefixCls,a=e.value,i=e.valueIndex,r=e.onStartMove,l=e.onDelete,f=e.style,R=e.render,S=e.dragging,y=e.draggingDelete,C=e.onOffsetChange,h=e.onChangeComplete,E=e.onFocus,M=e.onMouseEnter,g=_t(e,rn),s=u.useContext(Ae),v=s.min,c=s.max,m=s.direction,O=s.disabled,k=s.keyboard,U=s.range,B=s.tabIndex,V=s.ariaLabelForHandle,D=s.ariaLabelledByForHandle,_=s.ariaRequired,b=s.ariaValueTextFormatterForHandle,N=s.styles,I=s.classNames,W="".concat(n,"-handle"),j=function(P){O||r(P,i)},Q=function(P){E==null||E(P,i)},L=function(P){M(P,i)},de=function(P){if(!O&&k){var T=null;switch(P.which||P.keyCode){case o.LEFT:T=m==="ltr"||m==="btt"?-1:1;break;case o.RIGHT:T=m==="ltr"||m==="btt"?1:-1;break;case o.UP:T=m!=="ttb"?1:-1;break;case o.DOWN:T=m!=="ttb"?-1:1;break;case o.HOME:T="min";break;case o.END:T="max";break;case o.PAGE_UP:T=2;break;case o.PAGE_DOWN:T=-2;break;case o.BACKSPACE:case o.DELETE:l(i);break}T!==null&&(P.preventDefault(),C(T,i))}},ae=function(P){switch(P.which||P.keyCode){case o.LEFT:case o.RIGHT:case o.UP:case o.DOWN:case o.HOME:case o.END:case o.PAGE_UP:case o.PAGE_DOWN:h==null||h();break}},be=tt(m,a,v,c),ge={};if(i!==null){var Re;ge={tabIndex:O?null:Te(B,i),role:"slider","aria-valuemin":v,"aria-valuemax":c,"aria-valuenow":a,"aria-disabled":O,"aria-label":Te(V,i),"aria-labelledby":Te(D,i),"aria-required":Te(_,i),"aria-valuetext":(Re=Te(b,i))===null||Re===void 0?void 0:Re(a),"aria-orientation":m==="ltr"||m==="rtl"?"horizontal":"vertical",onMouseDown:j,onTouchStart:j,onFocus:Q,onMouseEnter:L,onKeyDown:de,onKeyUp:ae}}var Ne=u.createElement("div",Ze({ref:t,className:ke(W,J(J(J({},"".concat(W,"-").concat(i+1),i!==null&&U),"".concat(W,"-dragging"),S),"".concat(W,"-dragging-delete"),y),I.handle),style:p(p(p({},be),f),N.handle)},ge,g));return R&&(Ne=R(Ne,{index:i,prefixCls:n,value:a,dragging:S,draggingDelete:y})),Ne}),an=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],un=u.forwardRef(function(e,t){var n=e.prefixCls,a=e.style,i=e.onStartMove,r=e.onOffsetChange,l=e.values,f=e.handleRender,R=e.activeHandleRender,S=e.draggingIndex,y=e.draggingDelete,C=e.onFocus,h=_t(e,an),E=u.useRef({}),M=u.useState(!1),g=K(M,2),s=g[0],v=g[1],c=u.useState(-1),m=K(c,2),O=m[0],k=m[1],U=function(b){k(b),v(!0)},B=function(b,N){U(N),C==null||C(b)},V=function(b,N){U(N)};u.useImperativeHandle(t,function(){return{focus:function(b){var N;(N=E.current[b])===null||N===void 0||N.focus()},hideHelp:function(){Gt.flushSync(function(){v(!1)})}}});var D=p({prefixCls:n,onStartMove:i,onOffsetChange:r,render:f,onFocus:B,onMouseEnter:V},h);return u.createElement(u.Fragment,null,l.map(function(_,b){var N=S===b;return u.createElement(Rt,Ze({ref:function(W){W?E.current[b]=W:delete E.current[b]},dragging:N,draggingDelete:N&&y,style:Te(a,b),key:b,value:_,valueIndex:b},D))}),R&&s&&u.createElement(Rt,Ze({key:"a11y"},D,{value:l[O],valueIndex:null,dragging:S!==-1,draggingDelete:y,render:R,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),cn=function(t){var n=t.prefixCls,a=t.style,i=t.children,r=t.value,l=t.onClick,f=u.useContext(Ae),R=f.min,S=f.max,y=f.direction,C=f.includedStart,h=f.includedEnd,E=f.included,M="".concat(n,"-text"),g=tt(y,r,R,S);return u.createElement("span",{className:ke(M,J({},"".concat(M,"-active"),E&&C<=r&&r<=h)),style:p(p({},g),a),onMouseDown:function(v){v.stopPropagation()},onClick:function(){l(r)}},i)},ln=function(t){var n=t.prefixCls,a=t.marks,i=t.onClick,r="".concat(n,"-mark");return a.length?u.createElement("div",{className:r},a.map(function(l){var f=l.value,R=l.style,S=l.label;return u.createElement(cn,{key:f,prefixCls:r,style:R,value:f,onClick:i},S)})):null},on=function(t){var n=t.prefixCls,a=t.value,i=t.style,r=t.activeStyle,l=u.useContext(Ae),f=l.min,R=l.max,S=l.direction,y=l.included,C=l.includedStart,h=l.includedEnd,E="".concat(n,"-dot"),M=y&&C<=a&&a<=h,g=p(p({},tt(S,a,f,R)),typeof i=="function"?i(a):i);return M&&(g=p(p({},g),typeof r=="function"?r(a):r)),u.createElement("span",{className:ke(E,J({},"".concat(E,"-active"),M)),style:g})},sn=function(t){var n=t.prefixCls,a=t.marks,i=t.dots,r=t.style,l=t.activeStyle,f=u.useContext(Ae),R=f.min,S=f.max,y=f.step,C=u.useMemo(function(){var h=new Set;if(a.forEach(function(M){h.add(M.value)}),i&&y!==null)for(var E=R;E<=S;)h.add(E),E+=y;return Array.from(h)},[R,S,y,i,a]);return u.createElement("div",{className:"".concat(n,"-step")},C.map(function(h){return u.createElement(on,{prefixCls:n,key:h,value:h,style:r,activeStyle:l})}))},Nt=function(t){var n=t.prefixCls,a=t.style,i=t.start,r=t.end,l=t.index,f=t.onStartMove,R=t.replaceCls,S=u.useContext(Ae),y=S.direction,C=S.min,h=S.max,E=S.disabled,M=S.range,g=S.classNames,s="".concat(n,"-track"),v=et(i,C,h),c=et(r,C,h),m=function(B){!E&&f&&f(B,-1)},O={};switch(y){case"rtl":O.right="".concat(v*100,"%"),O.width="".concat(c*100-v*100,"%");break;case"btt":O.bottom="".concat(v*100,"%"),O.height="".concat(c*100-v*100,"%");break;case"ttb":O.top="".concat(v*100,"%"),O.height="".concat(c*100-v*100,"%");break;default:O.left="".concat(v*100,"%"),O.width="".concat(c*100-v*100,"%")}var k=R||ke(s,J(J({},"".concat(s,"-").concat(l+1),l!==null&&M),"".concat(n,"-track-draggable"),f),g.track);return u.createElement("div",{className:k,style:p(p({},O),a),onMouseDown:m,onTouchStart:m})},fn=function(t){var n=t.prefixCls,a=t.style,i=t.values,r=t.startPoint,l=t.onStartMove,f=u.useContext(Ae),R=f.included,S=f.range,y=f.min,C=f.styles,h=f.classNames,E=u.useMemo(function(){if(!S){if(i.length===0)return[];var g=r??y,s=i[0];return[{start:Math.min(g,s),end:Math.max(g,s)}]}for(var v=[],c=0;c<i.length-1;c+=1)v.push({start:i[c],end:i[c+1]});return v},[i,S,r,y]);if(!R)return null;var M=E!=null&&E.length&&(h.tracks||C.tracks)?u.createElement(Nt,{index:null,prefixCls:n,start:E[0].start,end:E[E.length-1].end,replaceCls:ke(h.tracks,"".concat(n,"-tracks")),style:C.tracks}):null;return u.createElement(u.Fragment,null,M,E.map(function(g,s){var v=g.start,c=g.end;return u.createElement(Nt,{index:s,prefixCls:n,style:p(p({},Te(a,s)),C.track),start:v,end:c,key:s,onStartMove:l})}))},vn=130;function Ot(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function dn(e,t,n,a,i,r,l,f,R,S,y){var C=u.useState(null),h=K(C,2),E=h[0],M=h[1],g=u.useState(-1),s=K(g,2),v=s[0],c=s[1],m=u.useState(!1),O=K(m,2),k=O[0],U=O[1],B=u.useState(n),V=K(B,2),D=V[0],_=V[1],b=u.useState(n),N=K(b,2),I=N[0],W=N[1],j=u.useRef(null),Q=u.useRef(null),L=u.useRef(null),de=u.useContext(nn),ae=de.onDragStart,be=de.onDragChange;Tt(function(){v===-1&&_(n)},[n,v]),u.useEffect(function(){return function(){document.removeEventListener("mousemove",j.current),document.removeEventListener("mouseup",Q.current),L.current&&(L.current.removeEventListener("touchmove",j.current),L.current.removeEventListener("touchend",Q.current))}},[]);var ge=function(T,H,Y){H!==void 0&&M(H),_(T);var q=T;Y&&(q=T.filter(function(w,X){return X!==v})),l(q),be&&be({rawValues:T,deleteIndex:Y?v:-1,draggingIndex:v,draggingValue:H})},Re=$e(function(P,T,H){if(P===-1){var Y=I[0],q=I[I.length-1],w=a-Y,X=i-q,ee=T*(i-a);ee=Math.max(ee,w),ee=Math.min(ee,X);var De=r(Y+ee);ee=De-Y;var ue=I.map(function(le){return le+ee});ge(ue)}else{var ie=(i-a)*T,ce=ve(D);ce[P]=I[P];var he=R(ce,ie,P,"dist");ge(he.values,he.value,H)}}),Ne=function(T,H,Y){T.stopPropagation();var q=Y||n,w=q[H];c(H),M(w),W(q),_(q),U(!1);var X=Ot(T),ee=X.pageX,De=X.pageY,ue=!1;ae&&ae({rawValues:q,draggingIndex:H,draggingValue:w});var ie=function(le){le.preventDefault();var Z=Ot(le),Pe=Z.pageX,Fe=Z.pageY,Ue=Pe-ee,ne=Fe-De,te=e.current.getBoundingClientRect(),Oe=te.width,Le=te.height,Ee,Se;switch(t){case"btt":Ee=-ne/Le,Se=Ue;break;case"ttb":Ee=ne/Le,Se=Ue;break;case"rtl":Ee=-Ue/Oe,Se=ne;break;default:Ee=Ue/Oe,Se=ne}ue=S?Math.abs(Se)>vn&&y<D.length:!1,U(ue),Re(H,Ee,ue)},ce=function he(le){le.preventDefault(),document.removeEventListener("mouseup",he),document.removeEventListener("mousemove",ie),L.current&&(L.current.removeEventListener("touchmove",j.current),L.current.removeEventListener("touchend",Q.current)),j.current=null,Q.current=null,L.current=null,f(ue),c(-1),U(!1)};document.addEventListener("mouseup",ce),document.addEventListener("mousemove",ie),T.currentTarget.addEventListener("touchend",ce),T.currentTarget.addEventListener("touchmove",ie),j.current=ie,Q.current=ce,L.current=T.currentTarget},me=u.useMemo(function(){var P=ve(n).sort(function(w,X){return w-X}),T=ve(D).sort(function(w,X){return w-X}),H={};T.forEach(function(w){H[w]=(H[w]||0)+1}),P.forEach(function(w){H[w]=(H[w]||0)-1});var Y=S?1:0,q=Object.values(H).reduce(function(w,X){return w+Math.abs(X)},0);return q<=Y?D:n},[n,D,S]);return[v,E,k,me,Ne]}function gn(e,t,n,a,i,r){var l=u.useCallback(function(E){return Math.max(e,Math.min(t,E))},[e,t]),f=u.useCallback(function(E){if(n!==null){var M=e+Math.round((l(E)-e)/n)*n,g=function(m){return(String(m).split(".")[1]||"").length},s=Math.max(g(n),g(t),g(e)),v=Number(M.toFixed(s));return e<=v&&v<=t?v:null}return null},[n,e,t,l]),R=u.useCallback(function(E){var M=l(E),g=a.map(function(c){return c.value});n!==null&&g.push(f(E)),g.push(e,t);var s=g[0],v=t-e;return g.forEach(function(c){var m=Math.abs(M-c);m<=v&&(s=c,v=m)}),s},[e,t,a,n,l,f]),S=function E(M,g,s){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof g=="number"){var c,m=M[s],O=m+g,k=[];a.forEach(function(_){k.push(_.value)}),k.push(e,t),k.push(f(m));var U=g>0?1:-1;v==="unit"?k.push(f(m+U*n)):k.push(f(O)),k=k.filter(function(_){return _!==null}).filter(function(_){return g<0?_<=m:_>=m}),v==="unit"&&(k=k.filter(function(_){return _!==m}));var B=v==="unit"?m:O;c=k[0];var V=Math.abs(c-B);if(k.forEach(function(_){var b=Math.abs(_-B);b<V&&(c=_,V=b)}),c===void 0)return g<0?e:t;if(v==="dist")return c;if(Math.abs(g)>1){var D=ve(M);return D[s]=c,E(D,g-U,s,v)}return c}else{if(g==="min")return e;if(g==="max")return t}},y=function(M,g,s){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",c=M[s],m=S(M,g,s,v);return{value:m,changed:m!==c}},C=function(M){return r===null&&M===0||typeof r=="number"&&M<r},h=function(M,g,s){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",c=M.map(R),m=c[s],O=S(c,g,s,v);if(c[s]=O,i===!1){var k=r||0;s>0&&c[s-1]!==m&&(c[s]=Math.max(c[s],c[s-1]+k)),s<c.length-1&&c[s+1]!==m&&(c[s]=Math.min(c[s],c[s+1]-k))}else if(typeof r=="number"||r===null){for(var U=s+1;U<c.length;U+=1)for(var B=!0;C(c[U]-c[U-1])&&B;){var V=y(c,1,U);c[U]=V.value,B=V.changed}for(var D=s;D>0;D-=1)for(var _=!0;C(c[D]-c[D-1])&&_;){var b=y(c,-1,D-1);c[D-1]=b.value,_=b.changed}for(var N=c.length-1;N>0;N-=1)for(var I=!0;C(c[N]-c[N-1])&&I;){var W=y(c,-1,N-1);c[N-1]=W.value,I=W.changed}for(var j=0;j<c.length-1;j+=1)for(var Q=!0;C(c[j+1]-c[j])&&Q;){var L=y(c,1,j+1);c[j+1]=L.value,Q=L.changed}}return{value:c[s],values:c}};return[R,h]}function mn(e){return u.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,a=e.minCount,i=e.maxCount;return[!0,t,!t&&n,a||0,i]},[e])}var hn=u.forwardRef(function(e,t){var n=e.prefixCls,a=n===void 0?"rc-slider":n,i=e.className,r=e.style,l=e.classNames,f=e.styles,R=e.id,S=e.disabled,y=S===void 0?!1:S,C=e.keyboard,h=C===void 0?!0:C,E=e.autoFocus,M=e.onFocus,g=e.onBlur,s=e.min,v=s===void 0?0:s,c=e.max,m=c===void 0?100:c,O=e.step,k=O===void 0?1:O,U=e.value,B=e.defaultValue,V=e.range,D=e.count,_=e.onChange,b=e.onBeforeChange,N=e.onAfterChange,I=e.onChangeComplete,W=e.allowCross,j=W===void 0?!0:W,Q=e.pushable,L=Q===void 0?!1:Q,de=e.reverse,ae=e.vertical,be=e.included,ge=be===void 0?!0:be,Re=e.startPoint,Ne=e.trackStyle,me=e.handleStyle,P=e.railStyle,T=e.dotStyle,H=e.activeDotStyle,Y=e.marks,q=e.dots,w=e.handleRender,X=e.activeHandleRender,ee=e.track,De=e.tabIndex,ue=De===void 0?0:De,ie=e.ariaLabelForHandle,ce=e.ariaLabelledByForHandle,he=e.ariaRequired,le=e.ariaValueTextFormatterForHandle,Z=u.useRef(null),Pe=u.useRef(null),Fe=u.useMemo(function(){return ae?de?"ttb":"btt":de?"rtl":"ltr"},[de,ae]),Ue=mn(V),ne=K(Ue,5),te=ne[0],Oe=ne[1],Le=ne[2],Ee=ne[3],Se=ne[4],z=u.useMemo(function(){return isFinite(v)?v:0},[v]),we=u.useMemo(function(){return isFinite(m)?m:100},[m]),_e=u.useMemo(function(){return k!==null&&k<=0?1:k},[k]),At=u.useMemo(function(){return typeof L=="boolean"?L?_e:!1:L>=0?L:!1},[L,_e]),Be=u.useMemo(function(){return Object.keys(Y||{}).map(function(x){var d=Y[x],A={value:Number(x)};return d&&ze(d)==="object"&&!u.isValidElement(d)&&("label"in d||"style"in d)?(A.style=d.style,A.label=d.label):A.label=d,A}).filter(function(x){var d=x.label;return d||typeof d=="number"}).sort(function(x,d){return x.value-d.value})},[Y]),Dt=gn(z,we,_e,Be,j,At),nt=K(Dt,2),We=nt[0],rt=nt[1],Pt=Qt(B,{value:U}),at=K(Pt,2),ye=at[0],Ft=at[1],G=u.useMemo(function(){var x=ye==null?[]:Array.isArray(ye)?ye:[ye],d=K(x,1),A=d[0],F=A===void 0?z:A,$=ye===null?[]:[F];if(te){if($=ve(x),D||ye===void 0){var Ce=D>=0?D+1:2;for($=$.slice(0,Ce);$.length<Ce;){var oe;$.push((oe=$[$.length-1])!==null&&oe!==void 0?oe:z)}}$.sort(function(se,fe){return se-fe})}return $.forEach(function(se,fe){$[fe]=We(se)}),$},[ye,te,z,D,We]),Ie=function(d){return te?d:d[0]},Ge=$e(function(x){var d=ve(x).sort(function(A,F){return A-F});_&&!tn(d,G,!0)&&_(Ie(d)),Ft(d)}),ut=$e(function(x){x&&Z.current.hideHelp();var d=Ie(G);N==null||N(d),je(!N,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),I==null||I(d)}),Ut=function(d){if(!(y||!Oe||G.length<=Ee)){var A=ve(G);A.splice(d,1),b==null||b(Ie(A)),Ge(A);var F=Math.max(0,d-1);Z.current.hideHelp(),Z.current.focus(F)}},Lt=dn(Pe,Fe,G,z,we,We,Ge,ut,rt,Oe,Ee),Ke=K(Lt,5),it=Ke[0],wt=Ke[1],It=Ke[2],Xe=Ke[3],ct=Ke[4],lt=function(d,A){if(!y){var F=ve(G),$=0,Ce=0,oe=we-z;G.forEach(function(Me,Ve){var ht=Math.abs(d-Me);ht<=oe&&(oe=ht,$=Ve),Me<d&&(Ce=Ve)});var se=$;Oe&&oe!==0&&(!Se||G.length<Se)?(F.splice(Ce+1,0,d),se=Ce+1):F[$]=d,te&&!G.length&&D===void 0&&F.push(d);var fe=Ie(F);if(b==null||b(fe),Ge(F),A){var xe,He;(xe=document.activeElement)===null||xe===void 0||(He=xe.blur)===null||He===void 0||He.call(xe),Z.current.focus(se),ct(A,se,F)}else N==null||N(fe),je(!N,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),I==null||I(fe)}},Ht=function(d){d.preventDefault();var A=Pe.current.getBoundingClientRect(),F=A.width,$=A.height,Ce=A.left,oe=A.top,se=A.bottom,fe=A.right,xe=d.clientX,He=d.clientY,Me;switch(Fe){case"btt":Me=(se-He)/$;break;case"ttb":Me=(He-oe)/$;break;case"rtl":Me=(fe-xe)/F;break;default:Me=(xe-Ce)/F}var Ve=z+Me*(we-z);lt(We(Ve),d)},$t=u.useState(null),ot=K($t,2),Qe=ot[0],st=ot[1],jt=function(d,A){if(!y){var F=rt(G,d,A);b==null||b(Ie(G)),Ge(F.values),st(F.value)}};u.useEffect(function(){if(Qe!==null){var x=G.indexOf(Qe);x>=0&&Z.current.focus(x)}st(null)},[Qe]);var Kt=u.useMemo(function(){return Le&&_e===null?!1:Le},[Le,_e]),ft=$e(function(x,d){ct(x,d),b==null||b(Ie(G))}),vt=it!==-1;u.useEffect(function(){if(!vt){var x=G.lastIndexOf(wt);Z.current.focus(x)}},[vt]);var pe=u.useMemo(function(){return ve(Xe).sort(function(x,d){return x-d})},[Xe]),pt=u.useMemo(function(){return te?[pe[0],pe[pe.length-1]]:[z,pe[0]]},[pe,te,z]),dt=K(pt,2),gt=dt[0],mt=dt[1];u.useImperativeHandle(t,function(){return{focus:function(){Z.current.focus(0)},blur:function(){var d,A=document,F=A.activeElement;(d=Pe.current)!==null&&d!==void 0&&d.contains(F)&&(F==null||F.blur())}}}),u.useEffect(function(){E&&Z.current.focus(0)},[]);var Bt=u.useMemo(function(){return{min:z,max:we,direction:Fe,disabled:y,keyboard:h,step:_e,included:ge,includedStart:gt,includedEnd:mt,range:te,tabIndex:ue,ariaLabelForHandle:ie,ariaLabelledByForHandle:ce,ariaRequired:he,ariaValueTextFormatterForHandle:le,styles:f||{},classNames:l||{}}},[z,we,Fe,y,h,_e,ge,gt,mt,te,ue,ie,ce,he,le,f,l]);return u.createElement(Ae.Provider,{value:Bt},u.createElement("div",{ref:Pe,className:ke(a,i,J(J(J(J({},"".concat(a,"-disabled"),y),"".concat(a,"-vertical"),ae),"".concat(a,"-horizontal"),!ae),"".concat(a,"-with-marks"),Be.length)),style:r,onMouseDown:Ht,id:R},u.createElement("div",{className:ke("".concat(a,"-rail"),l==null?void 0:l.rail),style:p(p({},P),f==null?void 0:f.rail)}),ee!==!1&&u.createElement(fn,{prefixCls:a,style:Ne,values:G,startPoint:Re,onStartMove:Kt?ft:void 0}),u.createElement(sn,{prefixCls:a,marks:Be,dots:q,style:T,activeStyle:H}),u.createElement(un,{ref:Z,prefixCls:a,style:me,values:Xe,draggingIndex:it,draggingDelete:It,onStartMove:ft,onOffsetChange:jt,onFocus:M,onBlur:g,handleRender:w,activeHandleRender:X,onChangeComplete:ut,onDelete:Oe?Ut:void 0}),u.createElement(ln,{prefixCls:a,marks:Be,onClick:lt})))});const En=hn;function Mn({showTrimControls:e=!1,onTrimChange:t,trimStart:n=0,trimEnd:a=100,accept:i=["video/*",".mkv"],...r}){const l=u.useRef(null),[f,R]=u.useState(0),S=C=>{const h=C.currentTarget.duration;R(h),t&&n===0&&a===100&&t(0,h)},y=(C,h)=>{t&&t(C,h)};return re.jsx(Vt,{...r,type:"video",accept:i,children:({preview:C})=>re.jsxs(Ye,{sx:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[re.jsx("video",{ref:l,src:C,style:{maxWidth:"100%",maxHeight:e?"calc(100% - 50px)":"100%"},onLoadedMetadata:S,controls:!e}),e&&f>0&&re.jsxs(Ye,{sx:{width:"100%",padding:"10px 20px",position:"absolute",bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.5)",color:"white",display:"flex",flexDirection:"column",gap:1},children:[re.jsxs(Ye,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[re.jsxs(Et,{variant:"caption",children:["Start: ",St(n||0)]}),re.jsxs(Et,{variant:"caption",children:["End: ",St(a||f)]})]}),re.jsx(Ye,{sx:{display:"flex",alignItems:"center",gap:2},children:re.jsx("div",{className:"range-slider-container",style:{margin:"20px 0",width:"100%"},children:re.jsx(En,{range:!0,min:0,max:f,step:.1,value:[n||0,a||f],onChange:h=>{Array.isArray(h)&&y(h[0],h[1])},allowCross:!1,pushable:.1})})})]})]})})}export{En as S,Mn as T};
