import{a as N,r as x,j as i,B as b}from"./index-7JCrVMyd.js";import{T as D}from"./ToolContent-DrkA_-Xz.js";import{T as j}from"./ToolTextResult-BPpE0Rrg.js";import{T as h}from"./TextFieldWithDesc-D98LnRRi.js";import{C as g}from"./CheckboxWithDesc-Q6HObWmX.js";import{A as G}from"./Alert-Bmk1WzvB.js";import"./TextField-DeGHHacn.js";import"./ContentPaste-CJSvfBhK.js";import"./ResultFooter-DAeFmDVK.js";import"./FormControlLabel-Bkvpm43S.js";import"./Checkbox-Sy-FfrtZ.js";import"./SwitchBase-CZaFkbti.js";import"./index-Bb8_02NB.js";import"./Close-DxdBQUtL.js";function R(a){const{minValue:r,maxValue:e,count:s,allowDecimals:f,allowDuplicates:p,sortResults:d}=a;if(r>=e)throw new Error("Minimum value must be less than maximum value");if(s<=0)throw new Error("Count must be greater than 0");if(!p&&s>e-r+1)throw new Error("Cannot generate unique numbers: count exceeds available range");const c=[];if(p)for(let m=0;m<s;m++){const u=C(r,e,f);c.push(u)}else{const m=new Set;for(let o=r;o<=e;o++)if(f)for(let t=0;t<100;t++)m.add(o+t/100);else m.add(o);const u=Array.from(m);for(let o=u.length-1;o>0;o--){const t=Math.floor(Math.random()*(o+1));[u[o],u[t]]=[u[t],u[o]]}for(let o=0;o<Math.min(s,u.length);o++)c.push(u[o])}return d&&c.sort((m,u)=>m-u),{numbers:c,min:r,max:e,count:s,hasDuplicates:!p&&V(c),isSorted:d}}function C(a,r,e){return e?Math.random()*(r-a)+a:Math.floor(Math.random()*(r-a+1))+a}function V(a){const r=new Set;for(const e of a){if(r.has(e))return!0;r.add(e)}return!1}function S(a,r,e){return a.map(s=>e?s.toFixed(2):Math.round(s).toString()).join(r)}function M(a){const{minValue:r,maxValue:e,count:s}=a;return r>=e?"Minimum value must be less than maximum value":s<=0?"Count must be greater than 0":s>1e4?"Count cannot exceed 10,000":e-r>1e6?"Range cannot exceed 1,000,000":null}const v={minValue:1,maxValue:100,count:10,allowDecimals:!1,allowDuplicates:!0,sortResults:!1,separator:", "};function K({title:a,longDescription:r}){const{t:e}=N("number"),[s,f]=x.useState(null),[p,d]=x.useState(null),[c,m]=x.useState(""),u=t=>{try{d(null),f(null),m("");const l=M(t);if(l){d(l);return}const n=R(t);f(n);const w=S(n.numbers,t.separator,t.allowDecimals);m(w)}catch(l){console.error("Random number generation failed:",l),d(e("randomNumberGenerator.error.generationFailed"))}},o=({values:t,updateField:l})=>[{title:e("randomNumberGenerator.options.range.title"),component:i.jsxs(b,{children:[i.jsx(h,{value:t.minValue.toString(),onOwnChange:n=>l("minValue",parseInt(n)||1),description:e("randomNumberGenerator.options.range.minDescription"),inputProps:{type:"number","data-testid":"min-value-input"}}),i.jsx(h,{value:t.maxValue.toString(),onOwnChange:n=>l("maxValue",parseInt(n)||100),description:e("randomNumberGenerator.options.range.maxDescription"),inputProps:{type:"number","data-testid":"max-value-input"}})]})},{title:e("randomNumberGenerator.options.generation.title"),component:i.jsxs(b,{children:[i.jsx(h,{value:t.count.toString(),onOwnChange:n=>l("count",parseInt(n)||10),description:e("randomNumberGenerator.options.generation.countDescription"),inputProps:{type:"number",min:1,max:1e4,"data-testid":"count-input"}}),i.jsx(g,{title:e("randomNumberGenerator.options.generation.allowDecimals.title"),checked:t.allowDecimals,onChange:n=>l("allowDecimals",n),description:e("randomNumberGenerator.options.generation.allowDecimals.description")}),i.jsx(g,{title:e("randomNumberGenerator.options.generation.allowDuplicates.title"),checked:t.allowDuplicates,onChange:n=>l("allowDuplicates",n),description:e("randomNumberGenerator.options.generation.allowDuplicates.description")}),i.jsx(g,{title:e("randomNumberGenerator.options.generation.sortResults.title"),checked:t.sortResults,onChange:n=>l("sortResults",n),description:e("randomNumberGenerator.options.generation.sortResults.description")})]})},{title:e("randomNumberGenerator.options.output.title"),component:i.jsx(b,{children:i.jsx(h,{value:t.separator,onOwnChange:n=>l("separator",n),description:e("randomNumberGenerator.options.output.separatorDescription"),inputProps:{"data-testid":"separator-input"}})})}];return i.jsx(D,{title:a,initialValues:v,compute:u,getGroups:o,resultComponent:i.jsxs(b,{children:[p&&i.jsx(G,{severity:"error",sx:{mb:2},children:p}),s&&i.jsx(j,{title:e("randomNumberGenerator.result.title"),value:c})]}),toolInfo:{title:e("randomNumberGenerator.info.title"),description:r||e("randomNumberGenerator.info.description")}})}export{K as default};
